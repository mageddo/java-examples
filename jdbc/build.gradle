plugins {
  id "java"
}

repositories {
  mavenCentral()
}

sourceCompatibility = JavaVersion.VERSION_11
targetCompatibility = JavaVersion.VERSION_11

dependencies {
  compileOnly 'org.projectlombok:lombok:1.18.20'
  annotationProcessor 'org.projectlombok:lombok:1.18.20'

  implementation("io.zonky.test:embedded-postgres:1.2.9")
  implementation group: "com.zaxxer", name: "HikariCP", version: "4.0.3"
  implementation group: "org.flywaydb", name: "flyway-core", version: "7.6.0"
  implementation group: "org.postgresql", name: "postgresql", version: "42.2.19"
  implementation group: 'org.jdbi', name: 'jdbi3-core', version: '3.20.0'
  implementation 'com.zaxxer:HikariCP:4.0.3'
  implementation group: 'ch.qos.logback', name: 'logback-classic', version: '1.2.3'


  runtimeOnly enforcedPlatform("io.zonky.test.postgres:embedded-postgres-binaries-bom:10.4.0")

  testCompileOnly 'org.projectlombok:lombok:1.18.20'
  testAnnotationProcessor 'org.projectlombok:lombok:1.18.20'

  testImplementation("org.junit.jupiter:junit-jupiter:5.7.1")
  testImplementation("org.mockito:mockito-junit-jupiter:3.9.0")

}

test {
  useJUnitPlatform()
  testLogging {
    events "passed", "skipped", "failed"
  }
}
